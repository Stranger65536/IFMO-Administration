if(typeof console=="undefined"){var noop=function(){};console={debug:noop,log:noop,warn:noop,assert:noop,clear:noop,dir:noop,error:noop,info:noop}}epx=window.epx||{},epx.utilities=function(){function endsWith(string,suffix){return!string||!suffix||string.length<suffix.length?!1:string.indexOf(suffix,string.length-suffix.length)!==-1}function padLeft(integer,width){if(!integer||!width||width<=1)return integer;for(integer=integer+"";integer.length<width;)integer="0"+integer;return integer}function log(message){!message||message.length<1||console.log(getDateTime()+" : "+message)}function getDateTime(date){return date||(date=new Date),padLeft(date.getFullYear(),4)+"-"+padLeft(date.getMonth()+1,2)+"-"+padLeft(date.getDate(),2)+" "+padLeft(date.getHours(),2)+":"+padLeft(date.getMinutes(),2)+":"+padLeft(date.getSeconds(),2)+":"+padLeft(date.getMilliseconds(),3)}function setCookie(name,value,expires,path,domain,secure){var today=new Date,expiresDate;today.setTime(today.getTime()),expires&&(expires=expires*864e5),expiresDate=new Date(today.getTime()+expires),document.cookie=name+"="+escape(value)+(expires?";expires="+expiresDate.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")}function getCookie(sName,defaultValue){for(var aCookie=document.cookie.split("; "),aCrumb,i=0;i<aCookie.length;i++)if(aCrumb=aCookie[i].split("="),sName===aCrumb[0])return unescape(aCrumb[1]);return defaultValue}return{endsWith:endsWith,padLeft:padLeft,log:log,getDateTime:getDateTime,setCookie:setCookie,getCookie:getCookie}}();;
typeof epxLibrary=="undefined"&&(epxLibrary={}),epxLibrary.isdMenus=function(){function init(){function linkClick($link,$menu){return!$link||!$menu?!0:($menu.is(":visible")?($menu.hide(),$link.css("background-color","")):($menu.show(),$link.css("background-color","#e5e5e5")),!1)}function linkLeave(e,$link,$menu){e.relatedTarget&&$(e.relatedTarget).attr("id")!==$menu.attr("id")&&menuLeave($menu,$link)}function menuLeave($menu,$link){$menu.hide(),$link.css("background-color","")}if(typeof MTPS=="undefined"||MTPS.Utility.SupportsHTML5()){var $printLink=$("#isd_print"),$printMenu=$("#isd_print_menu");$printLink&&$printMenu&&($printLink.click(function(){return linkClick($(this),$printMenu)}),$printLink.mouseleave(function(e){return linkLeave(e,$(this),$printMenu)}),$printMenu.mouseleave(function(){menuLeave($(this),$printLink)}))}}return{init:init}}(),epxLibrary.relatedLinks=function(){function init(){var tags=$("#relatedLinkTags").val(),$relatedLinks,$links;tags&&tags!==""&&($relatedLinks=$("#relatedLinks"),$links=$("#relatedLinks > div.links"),$relatedLinks&&$links)&&(window.epx.utilities.log("Loading related links..."),$.ajax({type:"GET",async:!0,url:$("meta[name=NormalizedUrl]").attr("content")+"?related=1&tags="+escape(tags),dataType:"json",success:function(r){var i,link;if(r&&!(r.length<1)){for(window.epx.utilities.log("Related links web service returned "+r.length+" link(s), processing..."),i=0;i<r.length;i++)link=linkFormat.replace("{href}",r[i].Href).replace("{title}",r[i].ToolTip).replace("{text}",r[i].Title),$links.append(link);$relatedLinks.show()}}}))}var linkFormat='<div class="relatedanchor" ><a href="{href}" title="{title}">{text}<\/a><\/div>';return{init:init}}(),$(document).ready(function(){epxLibrary.isdMenus.init(),epxLibrary.relatedLinks.init()});;
